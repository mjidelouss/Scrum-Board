<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>YouCode | Scrum Board</title>
    <meta
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
      name="viewport"
    />
    <meta content="" name="description" />
    <meta content="" name="author" />

    <!-- ================== BEGIN core-css ================== -->
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700"
      rel="stylesheet"
    />
    <link href="assets/css/vendor.min.css" rel="stylesheet" />
    <link href="assets/css/default/app.min.css" rel="stylesheet" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css"
    />
    <link href="assets/css/style.css" rel="stylesheet" />
    <!-- ================== END core-css ================== -->
  </head>
  <body style="background-color: #16213e">
    <!-- BEGIN #app -->
    <div id="app" class="app-without-sidebar">
      <!-- BEGIN #content -->
      <div id="content" class="app-content main-style">
        <div class="row">
          <div class="col-6">
            <ol class="breadcrumb">
              <li class="breadcrumb-item text-white">
                <a class="text-white" href="javascript:;">Home</a>
              </li>
              <li class="breadcrumb-item active">Scrum Board</li>
            </ol>
            <!-- BEGIN page-header -->
            <h1 class="page-header text-white">Scrum Board</h1>
            <!-- END page-header -->
          </div>

          <div class="col-6 text-end">
            <button
              class="p-2 text-white rounded-pill"
              data-bs-toggle="modal"
              data-bs-target="#modal-task"
              style="background-color: #e94560"
            >
              <i class="bi bi-plus-lg me-2"></i>Add Task
            </button>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-4 col-md-6 col-sm-12 mb-4">
            <div class="">
              <div
                class="col-12 text-white p-2 rounded-top"
                style="background-image: linear-gradient(#e94560, #0f3460)"
              >
                <h4 class="">To do (<span id="to-do-tasks-count">5</span>)</h4>
              </div>
              <div class="" id="to-do-tasks">
                <!-- TO DO TASKS HERE -->
              </div>
            </div>
          </div>
          <div class="col-lg-4 col-md-6 col-sm-12 mb-4">
            <div class="">
              <div
                class="col-12 text-white p-2 rounded-top"
                style="background-image: linear-gradient(#e94560, #0f3460)"
              >
                <h4 class="">
                  In Progress (<span id="in-progress-tasks-count">4</span>)
                </h4>
              </div>
              <div class="" id="in-progress-tasks">
                <!-- IN PROGRESS TASKS HERE -->
              </div>
            </div>
          </div>
          <div class="col-lg-4 col-md-6 col-sm-12">
            <div class="">
              <div
                class="col-12 text-white p-2 rounded-top"
                style="background-image: linear-gradient(#e94560, #0f3460)"
              >
                <h4 class="">Done (<span id="done-tasks-count">4</span>)</h4>
              </div>
              <div class="" id="done-tasks">
                <!-- DONE TASKS HERE -->
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- END #content -->

      <!-- BEGIN scroll-top-btn -->
      <a
        href="javascript:;"
        class="btn btn-icon btn-circle btn-success btn-scroll-to-top"
        data-toggle="scroll-to-top"
        ><i class="fa fa-angle-up"></i
      ></a>
      <!-- END scroll-top-btn -->
    </div>
    <!-- END #app -->

    <!-- TASK MODAL -->
    <div class="modal fade" id="modal-task">
      <div class="modal-dialog">
        <div class="modal-content">
          <div
            class="modal-header"
            style="
              background-image: linear-gradient(#e94560, #0f3460);
              border: none;
            "
          >
            <h5 class="modal-title text-white">Add Task</h5>
          </div>
          <div class="modal-body" style="background-color: #0f3460">
            <div class="" id="taskForm">
              <label class="col-form-label text-white">Title</label>
              <input
                type="text"
                class="form-control"
                style="background-color: #c8c8c8"
                id="title"
              />
            </div>
            <label class="col-form-label text-white" id="typ">Type</label>
            <div class="d-flex">
              <div class="form-check ms-3">
                <input
                  name="type"
                  value="Bug"
                  class="form-check-input"
                  type="radio"
                />
                <label class="form-check-label text-white">Bug</label>
              </div>
              <div class="form-check ms-3">
                <input
                  name="type"
                  value="Feature"
                  class="form-check-input"
                  type="radio"
                  checked
                />
                <label class="form-check-label text-white">Feature</label>
              </div>
            </div>
            <div class="">
              <label class="col-form-label text-white">Priority</label>
              <select
                class="form-select"
                style="background-color: #c8c8c8"
                id="priority"
              >
                <option disabled selected>Please select</option>
                <option value="Low">Low</option>
                <option value="Medium">Medium</option>
                <option value="High">High</option>
                <option value="Critical">Critical</option>
              </select>
            </div>
            <div class="">
              <label class="col-form-label text-white">Status</label>
              <select
                class="form-select"
                style="background-color: #c8c8c8"
                id="status"
              >
                <option disabled selected>Please select</option>
                <option value="To Do">To Do</option>
                <option value="In Progress">In Progress</option>
                <option value="Done">Done</option>
              </select>
            </div>
            <div class="">
              <label class="col-form-label text-white">Date</label>
              <input
                type="date"
                class="form-control"
                style="background-color: #c8c8c8"
                id="dateInput"
              />
            </div>
            <div class="">
              <label class="col-form-label text-white">Description</label>
              <textarea
                class="form-control"
                style="background-color: #c8c8c8"
                id="desc"
              ></textarea>
            </div>
          </div>
          <div
            class="modal-footer"
            style="background-color: #0f3460; border: none"
          >
            <button
              type="button"
              style="
                background-color: #c8c8c8;
                color: #e94560;
                font-weight: bold;
              "
              class="btn btn-light border rounded-pill"
              data-bs-dismiss="modal"
            >
              Cancel
            </button>
            <button
              type="submit"
              id="save"
              style="background-color: #e94560; font-weight: bold"
              class="btn btn-primary rounded-pill text-white"
            >
              Save
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- ================== BEGIN core-js ================== -->
    <script src="assets/js/vendor.min.js"></script>
    <script src="assets/js/app.min.js"></script>
    <script> src="assets/js/data.js"</script>
    <script>
      let title = document.getElementById("title");
      let dateInput = document.getElementById("dateInput");
      let typeInput = document.getElementsByName("type");
      let desc = document.getElementById("desc");
      let priority = document.getElementById("priority");
      let status = document.getElementById("status");
      let add = document.getElementById("save");
      let addTask = document.getElementById("to-do-tasks");
      let toDoTasks = document.getElementById("to-do-tasks");
      let inProgressTasks = document.getElementById("in-progress-tasks");
      let doneTasks = document.getElementById("done-tasks");

      document.addEventListener("DOMContentLoaded", () => {
        document
          .getElementById("save")
          .addEventListener("click", formValidation);
      });

      let formValidation = () => {
        if (title.value === "") {
          console.log("failure");
        } else {
          console.log("success");
          acceptData();
          add.setAttribute("data-bs-dismiss", "modal");
          add.click();
          (() => {
            add.setAttribute("data-bs-dismiss", "");
          })();
        }
      };
      let tasks = [];
      var type_value;
      let acceptData = () => {
        for (var i = 0; i < typeInput.length; i++) {
          if (typeInput[i].checked) {
            type_value = typeInput[i].value;
          }
        }
        let data = {
          'title' : title.value,
          'type' : type_value,
          'priority' : priority.value,
          'status' : status.value,
          'date' : dateInput.value,
          'desc' : desc.value,
        };
        tasks.push(data);
        taskLoad();
      };
      function taskLoad() {
      var id = 1;
      for (var i = 0; i < tasks.length; i++) {
          if (tasks[i].status == "To Do")
          {
              toDoTasks.innerHTML += `
      <button
                  class="col-12"
                  style="
                    background-color: #0f3460;
                    border: none;
                    border-bottom: 1px solid white;
                  "
                >
                  <div class="">
                    <i class=""></i>
                  </div>
                  <div class="mt-2 text-start ms-1 mb-1">
                    <div class="text-white">
                      <i class="bi bi-check-circle-fill text-success me-2"></i
                      >${tasks[i].title}
                    </div>
                    <div class="ms-4">
                      <div class="text-white">#${id} created in ${tasks[i].date}</div>
                      <div
                        class="text-white"
                        title=""
                      >
                        ${tasks[i].desc}
                      </div>
                    </div>
                    <div class="mt-2 text-start ms-4 mb-1">
                      <span
                        class="btn rounded-3 text-white p-1"
                        style="background-color: #e94560"
                        >${tasks[i].priority}</span
                      >
                      <span
                        class="btn rounded-3 p-1"
                        style="background-color: white; color: #e94560"
                        >${tasks[i].type}</span
                      >
                    </div>
                  </div>
                </button>
      `;
        resetForm();
      }
      else if (tasks[i].status == "In Progress")
          {
              inProgressTasks.innerHTML += `
              <button
                  class="col-12"
                  style="
                    background-color: #0f3460;
                    border: none;
                    border-bottom: 1px solid white;
                  "
                >
                  <div class="">
                    <i class=""></i>
                  </div>
                  <div class="mt-2 text-start ms-1 mb-1">
                    <div class="text-white">
                      <i
                        class="spinner-border text-success spinner-border-sm me-2"
                        role="status"
                      ></i
                      >${tasks[i].title}
                    </div>
                    <div class="ms-4">
                      <div class="text-white">#${id} created in ${tasks[i].date}</div>
                      <div
                        class="text-white"
                        title=""
                      >
                        ${tasks[i].desc}
                      </div>
                    </div>
                    <div class="mt-2 text-start ms-4 mb-1">
                      <span
                        class="btn rounded-3 text-white p-1"
                        style="background-color: #e94560"
                        >${tasks[i].priority}</span
                      >
                      <span
                        class="btn rounded-3 p-1"
                        style="background-color: white; color: #e94560"
                        >${tasks[i].type}</span
                      >
                    </div>
                  </div>
                </button>
      `;
        resetForm();
      }
      else if (tasks[i].status == "Done")
          {
              doneTasks.innerHTML += `
              <button
                  class="col-12"
                  style="
                    background-color: #0f3460;
                    border: none;
                    border-bottom: 1px solid white;
                  "
                >
                  <div class="">
                    <i class=""></i>
                  </div>
                  <div class="mt-2 text-start ms-1 mb-1">
                    <div class="text-white">
                      <i class="bi bi-check-circle-fill text-success me-2"></i
                      >${tasks[i].title}
                    </div>
                    <div class="ms-4">
                      <div class="text-white">#${id} created in ${tasks[i].date}</div>
                      <div
                        class="text-white"
                        title=""
                      >
                       ${tasks[i].desc}
                      </div>
                    </div>
                    <div class="mt-2 text-start ms-4 mb-1">
                      <span
                        class="btn rounded-3 text-white p-1"
                        style="background-color: #e94560"
                        >${tasks[i].priority}</span
                      >
                      <span
                        class="btn rounded-3 p-1"
                        style="background-color: white; color: #e94560"
                        >${tasks[i].type}</span
                      >
                    </div>
                  </div>
                </button>
      `;
        resetForm();
      }
        id++;
      }
      }
      let resetForm = () => {
        title.value = "";
        type_value = "";
        priority.value = "";
        status.value = "";
        dateInput.value = "";
        desc.value = "";
      };
    </script>
    <!-- ================== END core-js ================== -->
  </body>
</html>